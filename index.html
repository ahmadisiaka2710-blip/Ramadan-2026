<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover, user-scalable=no">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="apple-mobile-web-app-title" content="Ramadan">
<meta name="mobile-web-app-capable" content="yes">
<meta name="theme-color" content="#0A0D1A">
<title>Ramadan 1447</title>
<style>
*{margin:0;padding:0;box-sizing:border-box;-webkit-tap-highlight-color:transparent;-webkit-touch-callout:none;}
html{height:-webkit-fill-available;}
body{
  background:#0A0D1A;
  color:#F0EAD6;
  font-family:-apple-system,BlinkMacSystemFont,'Helvetica Neue',sans-serif;
  min-height:100vh;
  min-height:-webkit-fill-available;
  min-height:100dvh;
  overflow-x:hidden;
  -webkit-font-smoothing:antialiased;
}
.safe-wrap{
  padding-top:env(safe-area-inset-top,20px);
  padding-bottom:calc(env(safe-area-inset-bottom,20px) + 80px);
  padding-left:env(safe-area-inset-left,0px);
  padding-right:env(safe-area-inset-right,0px);
}
.app{max-width:430px;margin:0 auto;padding:0 16px;}

/* HEADER */
.hdr{padding:28px 0 18px;text-align:center;border-bottom:1px solid rgba(201,168,76,.2);margin-bottom:18px;}
.moon-icon{font-size:2.2rem;display:block;margin-bottom:6px;}
.arabic{font-size:2rem;color:#C9A84C;line-height:1.2;font-family:Georgia,â€˜Times New Romanâ€™,serif;}
.sub{font-size:11px;letter-spacing:3px;text-transform:uppercase;color:rgba(240,234,214,.4);margin-top:4px;}
.badge{display:inline-block;margin-top:12px;background:linear-gradient(135deg,#C9A84C,#E8C97A);color:#0A0D1A;font-size:12px;font-weight:700;letter-spacing:1.5px;text-transform:uppercase;padding:6px 18px;border-radius:20px;}

/* CARDS */
.card{background:#141929;border:1px solid rgba(201,168,76,.18);border-radius:20px;padding:18px;margin-bottom:14px;position:relative;overflow:hidden;}
.card-line{position:absolute;top:0;left:0;right:0;height:2px;background:linear-gradient(90deg,transparent,#C9A84C,transparent);}

/* TIMES */
.times-grid{display:grid;grid-template-columns:1fr 1fr;gap:12px;}
.t-block{text-align:center;padding:14px 8px;background:rgba(255,255,255,.03);border-radius:14px;border:1px solid rgba(255,255,255,.06);}
.t-icon{font-size:1.4rem;margin-bottom:4px;}
.t-lbl{font-size:10px;letter-spacing:2px;text-transform:uppercase;color:rgba(240,234,214,.4);margin-bottom:6px;}
.t-val{font-size:2rem;color:#E8C97A;line-height:1;font-family:Georgia,serif;}
.t-ampm{font-size:12px;color:rgba(240,234,214,.5);margin-left:2px;}
.t-sub{font-size:10px;color:rgba(240,234,214,.4);margin-top:4px;}
.dur{text-align:center;margin-top:14px;padding-top:14px;border-top:1px solid rgba(201,168,76,.15);font-size:11px;letter-spacing:1.5px;text-transform:uppercase;color:rgba(240,234,214,.45);}
.dur-val{color:#C9A84C;font-size:15px;font-weight:600;}

/* PROGRESS */
.prog-hdr{display:flex;justify-content:space-between;font-size:11px;letter-spacing:1.5px;text-transform:uppercase;color:rgba(240,234,214,.4);margin-bottom:10px;}
.prog-hdr b{color:#C9A84C;font-weight:600;}
.prog-track{background:rgba(255,255,255,.06);border-radius:8px;height:8px;overflow:hidden;}
.prog-fill{height:100%;background:linear-gradient(90deg,#C9A84C,#E8C97A);border-radius:8px;transition:width .8s ease;}
.prog-marks{display:flex;justify-content:space-between;margin-top:6px;font-size:9px;color:rgba(240,234,214,.35);}

/* BOTTOM NAV */
.nav{position:fixed;bottom:0;left:0;right:0;background:rgba(14,17,30,.95);border-top:1px solid rgba(201,168,76,.15);display:flex;padding-bottom:env(safe-area-inset-bottom,0px);-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);z-index:100;}
.nav-btn{flex:1;background:none;border:none;color:rgba(240,234,214,.4);font-size:10px;letter-spacing:1px;text-transform:uppercase;padding:12px 4px 10px;cursor:pointer;display:flex;flex-direction:column;align-items:center;gap:4px;-webkit-appearance:none;}
.nav-btn.active{color:#E8C97A;}
.nav-btn .nav-dot{width:4px;height:4px;border-radius:2px;background:#E8C97A;opacity:0;}
.nav-btn.active .nav-dot{opacity:1;}
.nav-icon{font-size:1.3rem;}

/* PANELS */
.panel{display:none;}.panel.active{display:block;}

/* CHECKLIST */
.sec-lbl{font-size:10px;letter-spacing:2px;text-transform:uppercase;color:rgba(240,234,214,.35);margin-bottom:10px;padding-left:2px;}
.chk{display:flex;align-items:center;gap:12px;background:#141929;border:1px solid rgba(201,168,76,.18);border-radius:14px;padding:13px 14px;margin-bottom:8px;cursor:pointer;transition:background .15s,border .15s;-webkit-user-select:none;user-select:none;}
.chk.done{background:rgba(76,175,122,.07);border-color:rgba(76,175,122,.3);}
.chk-box{width:24px;height:24px;border-radius:7px;border:1.5px solid rgba(201,168,76,.3);display:flex;align-items:center;justify-content:center;flex-shrink:0;font-size:14px;transition:all .15s;}
.chk.done .chk-box{background:#4CAF7A;border-color:#4CAF7A;color:#fff;}
.chk-lbl{font-size:14px;flex:1;}
.chk.done .chk-lbl{color:rgba(240,234,214,.4);text-decoration:line-through;text-decoration-color:rgba(76,175,122,.4);}
.chk-meta{font-size:11px;color:rgba(240,234,214,.35);flex-shrink:0;}
.reset-btn{width:100%;margin-top:8px;background:none;border:1px solid rgba(201,168,76,.18);border-radius:12px;color:rgba(240,234,214,.4);font-size:12px;letter-spacing:1px;text-transform:uppercase;padding:12px;cursor:pointer;-webkit-appearance:none;}

/* QURAN */
.q-stats{display:grid;grid-template-columns:1fr 1fr 1fr;gap:8px;margin-bottom:14px;}
.q-stat{background:#141929;border:1px solid rgba(201,168,76,.18);border-radius:14px;padding:14px 8px;text-align:center;}
.q-stat-v{font-size:1.8rem;color:#C9A84C;line-height:1;font-family:Georgia,serif;}
.q-stat-l{font-size:9px;letter-spacing:1.5px;text-transform:uppercase;color:rgba(240,234,214,.4);margin-top:4px;}
.juz-grid{display:grid;grid-template-columns:repeat(10,1fr);gap:4px;margin-bottom:12px;}
.juz{border-radius:8px;background:rgba(255,255,255,.05);border:1px solid rgba(255,255,255,.07);display:flex;align-items:center;justify-content:center;font-size:11px;color:rgba(240,234,214,.45);cursor:pointer;padding:6px 0;-webkit-user-select:none;user-select:none;transition:all .15s;}
.juz.done{background:rgba(201,168,76,.2);border-color:#C9A84C;color:#E8C97A;font-weight:600;}
.hint{font-size:11px;color:rgba(240,234,214,.35);text-align:center;}

/* SCHEDULE */
.sched-wrap{background:#141929;border:1px solid rgba(201,168,76,.18);border-radius:16px;overflow:hidden;}
.sched-h{display:grid;grid-template-columns:2fr 1.2fr 1.4fr 1.4fr;padding:10px 14px;background:rgba(201,168,76,.08);border-bottom:1px solid rgba(201,168,76,.15);font-size:10px;letter-spacing:1.5px;text-transform:uppercase;color:rgba(240,234,214,.4);}
.sched-r{display:grid;grid-template-columns:2fr 1.2fr 1.4fr 1.4fr;padding:9px 14px;border-bottom:1px solid rgba(255,255,255,.04);font-size:12px;align-items:center;}
.sched-r:last-child{border-bottom:none;}
.sched-r.today{background:rgba(201,168,76,.1);border-left:3px solid #C9A84C;}
.sched-r .dn{color:#C9A84C;font-weight:600;}
.sched-r .sh{color:#A8D5C0;}
.sched-r .if{color:#F5C07A;}

/* DUAS */
.dua-card{background:#141929;border:1px solid rgba(201,168,76,.18);border-radius:16px;padding:18px;margin-bottom:10px;}
.dua-t{font-size:10px;letter-spacing:2px;text-transform:uppercase;color:#C9A84C;margin-bottom:12px;text-align:center;}
.dua-ar{font-family:Georgia,â€˜Times New Romanâ€™,serif;font-size:1.3rem;color:#E8C97A;text-align:center;line-height:1.8;direction:rtl;margin-bottom:8px;}
.dua-tr{font-size:11px;color:rgba(240,234,214,.5);text-align:center;font-style:italic;margin-bottom:6px;}
.dua-en{font-size:12px;color:#F0EAD6;text-align:center;line-height:1.6;}

/* REMINDERS */
.rem-card{background:#141929;border:1px solid rgba(201,168,76,.18);border-radius:16px;padding:16px;margin-bottom:10px;}
.rem-t{font-size:10px;letter-spacing:2px;text-transform:uppercase;color:#C9A84C;margin-bottom:10px;}
.rem-r{font-size:13px;color:#F0EAD6;display:flex;gap:10px;line-height:1.6;margin-bottom:7px;align-items:flex-start;}
.rem-r span{color:#C9A84C;flex-shrink:0;}

/* FOOTER */
.foot{text-align:center;padding:20px 0 10px;font-size:10px;letter-spacing:1.5px;color:rgba(240,234,214,.25);text-transform:uppercase;}
</style>

</head>
<body>
<div class="safe-wrap">
<div class="app">

<!-- HEADER -->

<div class="hdr">
  <span class="moon-icon">â˜ªï¸</span>
  <div class="arabic">Ø±Ù…Ø¶Ø§Ù† Ù¡Ù¤Ù¤Ù§</div>
  <div class="sub">Ramadan 1447 Â· Houston, TX</div>
  <div class="badge" id="badge">Loading...</div>
</div>

<!-- TIMES -->

<div class="card">
  <div class="card-line"></div>
  <div class="times-grid">
    <div class="t-block">
      <div class="t-icon">ğŸŒ™</div>
      <div class="t-lbl">Suhoor Ends</div>
      <div class="t-val" id="sTime">â€”</div>
      <div class="t-sub">AM Â· Fajr begins</div>
    </div>
    <div class="t-block">
      <div class="t-icon">ğŸŒ…</div>
      <div class="t-lbl">Iftar Time</div>
      <div class="t-val" id="iTime">â€”</div>
      <div class="t-sub">PM Â· Maghrib</div>
    </div>
  </div>
  <div class="dur"><span class="dur-val" id="durVal">â€”</span> <span id="durTxt">fasting today</span></div>
</div>

<!-- PROGRESS -->

<div class="card">
  <div class="prog-hdr"><span>Ramadan Progress</span><span><b id="pDay">0</b> / 30 days</span></div>
  <div class="prog-track"><div class="prog-fill" id="pFill" style="width:0%"></div></div>
  <div class="prog-marks"><span>Day 1</span><span>Day 10</span><span>Day 20</span><span>Day 30</span></div>
</div>

<!-- PANEL: DAILY -->

<div class="panel active" id="p-daily">
  <div class="sec-lbl">Today's Ibadah Checklist</div>
  <div id="chklist"></div>
  <button class="reset-btn" onclick="resetDay()">â†º Reset for new day</button>
</div>

<!-- PANEL: QURAN -->

<div class="panel" id="p-quran">
  <div class="q-stats">
    <div class="q-stat"><div class="q-stat-v" id="qDone">0</div><div class="q-stat-l">Juz Done</div></div>
    <div class="q-stat"><div class="q-stat-v" id="qLeft">30</div><div class="q-stat-l">Remaining</div></div>
    <div class="q-stat"><div class="q-stat-v" id="qPct">0%</div><div class="q-stat-l">Complete</div></div>
  </div>
  <div class="juz-grid" id="juzGrid"></div>
  <div class="hint">Tap each Juz to mark complete</div>
</div>

<!-- PANEL: SCHEDULE -->

<div class="panel" id="p-schedule">
  <div class="sched-wrap">
    <div class="sched-h"><div>Date</div><div>Day</div><div>Suhoor</div><div>Iftar</div></div>
    <div id="schedRows"></div>
  </div>
</div>

<!-- PANEL: DUAS -->

<div class="panel" id="p-duas">
  <div class="dua-card">
    <div class="dua-t">ğŸŒ™ Suhoor Niyyah</div>
    <div class="dua-ar">ÙˆÙØ¨ÙØµÙÙˆÙ’Ù…Ù ØºÙØ¯Ù Ù†ÙÙ‘ÙˆÙÙŠÙ’ØªÙ Ù…ÙÙ†Ù’ Ø´ÙÙ‡Ù’Ø±Ù Ø±ÙÙ…ÙØ¶ÙØ§Ù†Ù</div>
    <div class="dua-tr">Wa bisawmi ghadin nawaitu min shahri Ramadan</div>
    <div class="dua-en">"I intend to keep the fast tomorrow in the month of Ramadan."</div>
  </div>
  <div class="dua-card">
    <div class="dua-t">ğŸŒ… Iftar Du'a</div>
    <div class="dua-ar">Ø§Ù„Ù„ÙÙ‘Ù‡ÙÙ…ÙÙ‘ Ø§ÙÙ†ÙÙ‘ÙŠ Ù„ÙÙƒÙ ØµÙÙ…Ù’ØªÙ ÙˆÙØ¨ÙÙƒÙ Ø¢Ù…ÙÙ†Ù’ØªÙ ÙˆÙØ¹ÙÙ„ÙÙŠÙ’ÙƒÙ ØªÙÙˆÙÙƒÙÙ‘Ù„Ù’ØªÙ ÙˆÙØ¹ÙÙ„ÙÙ‰ Ø±ÙØ²Ù’Ù‚ÙÙƒÙ Ø£ÙÙÙ’Ø·ÙØ±Ù’ØªÙ</div>
    <div class="dua-tr">Allahumma inni laka sumtu wa bika amantu wa 'alaika tawakkaltu wa 'ala rizqika aftartu</div>
    <div class="dua-en">"O Allah, I fasted for You, I believe in You, I put my trust in You, and I break my fast with Your sustenance."</div>
  </div>
  <div class="dua-card">
    <div class="dua-t">âœ¨ Laylatul Qadr Du'a</div>
    <div class="dua-ar">Ø§Ù„Ù„ÙÙ‘Ù‡ÙÙ…ÙÙ‘ Ø¥ÙÙ†ÙÙ‘ÙƒÙ Ø¹ÙÙÙÙˆÙŒÙ‘ ØªÙØ­ÙØ¨ÙÙ‘ Ø§Ù„Ù’Ø¹ÙÙÙ’ÙˆÙ ÙÙØ§Ø¹Ù’ÙÙ Ø¹ÙÙ†ÙÙ‘ÙŠ</div>
    <div class="dua-tr">Allahumma innaka 'afuwwun tuhibbul 'afwa fa'fu 'anni</div>
    <div class="dua-en">"O Allah, You are Pardoning and You love pardon, so pardon me."</div>
  </div>
  <div class="rem-card">
    <div class="rem-t">ğŸ½ Suhoor Meal Ideas</div>
    <div class="rem-r"><span>â–¸</span>Oats + dates + banana â€” slow energy, prevents mid-fast hunger</div>
    <div class="rem-r"><span>â–¸</span>Eggs + whole wheat toast + avocado â€” protein-heavy, sustaining</div>
    <div class="rem-r"><span>â–¸</span>Greek yogurt + honey + nuts + fruit</div>
    <div class="rem-r"><span>â–¸</span>Drink 2â€“3 glasses of water. Avoid salt & caffeine.</div>
  </div>
  <div class="rem-card">
    <div class="rem-t">âœ¨ Last 10 Nights â€” Mar 10â€“19</div>
    <div class="rem-r"><span>â–¸</span>Laylatul Qadr: odd nights â€” Mar 11, 13, 15, 17, 19</div>
    <div class="rem-r"><span>â–¸</span>Increase i'tikaf, tahajjud, Quran recitation & du'a</div>
    <div class="rem-r"><span>â–¸</span>Recite the Laylatul Qadr du'a repeatedly all night</div>
    <div class="rem-r"><span>â–¸</span>Eid al-Fitr: ~Thursday, March 20, 2026 ğŸ‰</div>
  </div>
</div>

<div class="foot">Ø±Ù…Ø¶Ø§Ù† Ù…Ø¨Ø§Ø±Ùƒ Â· Ahmad Â· Houston, TX Â· 1447 AH</div>
</div>
</div>

<!-- BOTTOM NAV -->

<nav class="nav">
  <button class="nav-btn active" id="nb-daily" onclick="goTab('daily')">
    <span class="nav-icon">â˜‘ï¸</span><span>Daily</span><div class="nav-dot"></div>
  </button>
  <button class="nav-btn" id="nb-quran" onclick="goTab('quran')">
    <span class="nav-icon">ğŸ“–</span><span>Qur'an</span><div class="nav-dot"></div>
  </button>
  <button class="nav-btn" id="nb-schedule" onclick="goTab('schedule')">
    <span class="nav-icon">ğŸ“…</span><span>Schedule</span><div class="nav-dot"></div>
  </button>
  <button class="nav-btn" id="nb-duas" onclick="goTab('duas')">
    <span class="nav-icon">ğŸ¤²</span><span>Du'as</span><div class="nav-dot"></div>
  </button>
</nav>

<script>
var SCHED=[
  {d:"2026-02-18",n:1,s:"5:51",i:"6:13"},
  {d:"2026-02-19",n:2,s:"5:50",i:"6:14"},
  {d:"2026-02-20",n:3,s:"5:49",i:"6:15"},
  {d:"2026-02-21",n:4,s:"5:48",i:"6:16"},
  {d:"2026-02-22",n:5,s:"5:47",i:"6:17"},
  {d:"2026-02-23",n:6,s:"5:46",i:"6:18"},
  {d:"2026-02-24",n:7,s:"5:44",i:"6:19"},
  {d:"2026-02-25",n:8,s:"5:43",i:"6:20"},
  {d:"2026-02-26",n:9,s:"5:42",i:"6:21"},
  {d:"2026-02-27",n:10,s:"5:40",i:"6:22"},
  {d:"2026-02-28",n:11,s:"5:39",i:"6:23"},
  {d:"2026-03-01",n:12,s:"5:38",i:"6:24"},
  {d:"2026-03-02",n:13,s:"5:36",i:"6:25"},
  {d:"2026-03-03",n:14,s:"5:35",i:"6:26"},
  {d:"2026-03-04",n:15,s:"5:33",i:"6:27"},
  {d:"2026-03-05",n:16,s:"5:32",i:"6:28"},
  {d:"2026-03-06",n:17,s:"5:30",i:"6:29"},
  {d:"2026-03-07",n:18,s:"5:28",i:"6:30"},
  {d:"2026-03-08",n:19,s:"5:27",i:"6:31"},
  {d:"2026-03-09",n:20,s:"5:25",i:"6:32"},
  {d:"2026-03-10",n:21,s:"5:23",i:"6:33"},
  {d:"2026-03-11",n:22,s:"5:22",i:"6:34"},
  {d:"2026-03-12",n:23,s:"5:20",i:"6:34"},
  {d:"2026-03-13",n:24,s:"5:18",i:"6:35"},
  {d:"2026-03-14",n:25,s:"5:16",i:"6:36"},
  {d:"2026-03-15",n:26,s:"5:14",i:"6:37"},
  {d:"2026-03-16",n:27,s:"5:13",i:"6:38"},
  {d:"2026-03-17",n:28,s:"5:11",i:"6:39"},
  {d:"2026-03-18",n:29,s:"5:09",i:"6:40"},
  {d:"2026-03-19",n:30,s:"5:07",i:"6:41"}
];

var ITEMS=[
  {id:"suhoor",l:"Suhoor eaten",m:"Pre-dawn"},
  {id:"fajr",l:"Fajr prayer",m:"Obligatory"},
  {id:"quran-am",l:"Quran â€” morning reading",m:"Â½ Juz"},
  {id:"dhuhr",l:"Dhuhr prayer",m:"Obligatory"},
  {id:"asr",l:"Asr prayer",m:"Obligatory"},
  {id:"iftar-dua",l:"Iftar du'a recited",m:"At sunset"},
  {id:"maghrib",l:"Maghrib prayer",m:"Obligatory"},
  {id:"quran-pm",l:"Quran â€” evening reading",m:"Â½ Juz"},
  {id:"isha",l:"Isha prayer",m:"Obligatory"},
  {id:"taraweeh",l:"Taraweeh prayers",m:"Sunnah"},
  {id:"dhikr",l:"Dhikr / Istighfar",m:"100Ã—"},
  {id:"sadaqah",l:"Sadaqah / act of kindness",m:"Daily"}
];

function today(){
  var d=new Date();
  var y=d.getFullYear();
  var m=String(d.getMonth()+1).padStart(2,'0');
  var day=String(d.getDate()).padStart(2,'0');
  return y+'-'+m+'-'+day;
}
function mins(t){var p=t.split(':');return+p[0]*60+ +p[1];}
function fmt(t){var p=t.split(':');var h=+p[0];var m=p[1];var hh=h>12?h-12:(h===0?12:h);return hh+':'+m;}
function mday(s){var p=s.split('-');var mo=['','Jan','Feb','Mar'];return mo[+p[1]]+' '+(+p[2]);}

function initHeader(){
  var td=today();
  var e=SCHED.find(function(r){return r.d===td;});
  var badge=document.getElementById('badge');
  var st=document.getElementById('sTime');
  var it=document.getElementById('iTime');
  var dv=document.getElementById('durVal');
  var dt=document.getElementById('durTxt');
  var pd=document.getElementById('pDay');
  var pf=document.getElementById('pFill');

  if(e){
    badge.textContent='Day '+e.n+' of Ramadan';
    st.textContent=fmt(e.s);
    it.textContent=fmt(e.i);
    var diff=mins(e.i)-mins(e.s);
    dv.textContent=Math.floor(diff/60)+'h '+diff%60+'m';
    dt.textContent='fasting today';
    pd.textContent=e.n;
    pf.style.width=Math.round(e.n/30*100)+'%';
  } else if(td<SCHED[0].d){
    badge.textContent='Ramadan Starts Tomorrow!';
    var f=SCHED[0];
    st.textContent=fmt(f.s);
    it.textContent=fmt(f.i);
    var diff2=mins(f.i)-mins(f.s);
    dv.textContent=Math.floor(diff2/60)+'h '+diff2%60+'m';
    dt.textContent='first fast';
    pd.textContent='0';
  } else {
    badge.textContent='Eid Mubarak! ğŸ‰';
    st.textContent='â€”'; it.textContent='â€”';
    dv.textContent='Complete!'; dt.textContent='';
    pd.textContent='30'; pf.style.width='100%';
  }
}

function buildChecklist(){
  var td=today();
  var saved=JSON.parse(localStorage.getItem('rc_'+td)||'{}');
  var html='';
  ITEMS.forEach(function(item){
    var done=saved[item.id]?'done':'';
    html+='<div class="chk '+done+'" onclick="toggleChk(this,\''+item.id+'\')">'
      +'<div class="chk-box">'+(done?'âœ“':'')+'</div>'
      +'<div class="chk-lbl">'+item.l+'</div>'
      +'<div class="chk-meta">'+item.m+'</div>'
      +'</div>';
  });
  document.getElementById('chklist').innerHTML=html;
}

function toggleChk(el,id){
  el.classList.toggle('done');
  var box=el.querySelector('.chk-box');
  box.textContent=el.classList.contains('done')?'âœ“':'';
  var td=today();
  var saved=JSON.parse(localStorage.getItem('rc_'+td)||'{}');
  saved[id]=el.classList.contains('done');
  localStorage.setItem('rc_'+td,JSON.stringify(saved));
}

function resetDay(){
  var td=today();
  localStorage.removeItem('rc_'+td);
  buildChecklist();
}

function buildJuz(){
  var saved=JSON.parse(localStorage.getItem('rq')||'{}');
  var html='';
  for(var i=1;i<=30;i++){
    var done=saved[i]?'done':'';
    html+='<div class="juz '+done+'" onclick="toggleJuz(this,'+i+')">'+i+'</div>';
  }
  document.getElementById('juzGrid').innerHTML=html;
  updateQStats();
}

function toggleJuz(el,n){
  el.classList.toggle('done');
  var saved=JSON.parse(localStorage.getItem('rq')||'{}');
  if(el.classList.contains('done')) saved[n]=1; else delete saved[n];
  localStorage.setItem('rq',JSON.stringify(saved));
  updateQStats();
}

function updateQStats(){
  var saved=JSON.parse(localStorage.getItem('rq')||'{}');
  var done=Object.keys(saved).length;
  document.getElementById('qDone').textContent=done;
  document.getElementById('qLeft').textContent=30-done;
  document.getElementById('qPct').textContent=Math.round(done/30*100)+'%';
}

function buildSchedule(){
  var td=today();
  var html='';
  SCHED.forEach(function(r){
    var cls=r.d===td?' today':'';
    html+='<div class="sched-r'+cls+'">'
      +'<div>'+mday(r.d)+'</div>'
      +'<div class="dn">'+r.n+'</div>'
      +'<div class="sh">'+fmt(r.s)+' AM</div>'
      +'<div class="if">'+fmt(r.i)+' PM</div>'
      +'</div>';
  });
  document.getElementById('schedRows').innerHTML=html;
}

function goTab(name){
  ['daily','quran','schedule','duas'].forEach(function(t){
    document.getElementById('p-'+t).classList.remove('active');
    document.getElementById('nb-'+t).classList.remove('active');
  });
  document.getElementById('p-'+name).classList.add('active');
  document.getElementById('nb-'+name).classList.add('active');
  window.scrollTo({top:0,behavior:'smooth'});
  if(name==='schedule') buildSchedule();
}

// Boot
initHeader();
buildChecklist();
buildJuz();
</script>

</body>
</html>
